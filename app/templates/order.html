<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>طلب قطع غيار - Parts Hunter</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <style>
    .tab-button {
      cursor: pointer;
      padding: 10px 15px;
      border: none;
      border-bottom: 3px solid transparent;
      background: none;
    }
    .tab-button.active {
      border-bottom: 3px solid #f90;
      font-weight: bold;
      color: #f90;
    }
    .form-section {
      display: none;
    }
    .form-section.active {
      display: block;
    }
  </style>
</head>
<body class="bg-light text-end">

<div class="container mt-5">
  <div class="card p-4 shadow">
    <h3 class="text-center mb-4">طلب قطع غيار</h3>

    <!-- التبويبات -->
    <div class="d-flex justify-content-around mb-3">
      <button class="tab-button active" onclick="switchTab('car')">🚗 سيارة</button>
      <button class="tab-button" onclick="switchTab('truck')">🚚 شاحنة</button>
      <button class="tab-button" onclick="switchTab('bike')">🏍️ موتر</button>
      <button class="tab-button" onclick="switchTab('gen')">⚡ مولد</button>
      <button class="tab-button" onclick="switchTab('elec')">🔌 كهربائيات</button>
    </div>

    <form id="orderForm">
      <div class="mb-3"><input type="text" name="name" class="form-control" placeholder="الاسم" required /></div>
      <div class="mb-3"><input type="text" name="phone" class="form-control" placeholder="رقم الهاتف أو واتساب" required /></div>

      <!-- أقسام المركبات -->
      <div id="car" class="form-section active"></div>
      <div id="truck" class="form-section"></div>
      <div id="bike" class="form-section"></div>

      <!-- مولد -->
      <div id="gen" class="form-section">
        <div class="mb-2"><select class="form-select" name="gen_type">
          <option>بيركنز</option><option>كاتربيلر</option><option>كوبوتا</option><option>يانمار</option>
          <option>هوندا</option><option>ياماها</option><option>أخرى</option>
        </select></div>
        <div class="mb-2"><input type="text" name="gen_capacity" class="form-control" placeholder="السعة بالكيلو فولت" /></div>
        <div class="mb-2"><input type="text" name="gen_fuel" class="form-control" placeholder="نوع الوقود" /></div>
        <div class="mb-2"><input type="text" name="gen_serial" class="form-control" placeholder="السيريال نمبر (إن وجد)" /></div>
      </div>

      <!-- كهربائيات -->
      <div id="elec" class="form-section">
        <div class="mb-2"><select class="form-select" name="elec_type">
          <option>ثلاجة</option><option>غسالة</option><option>بوتوجاز</option><option>مكيف</option>
          <option>مايكرويف</option><option>أخرى</option>
        </select></div>
        <div class="mb-2"><input type="text" name="elec_brand" class="form-control" placeholder="المواصفات أو البراند" /></div>
      </div>

      <div class="mb-3">
        <textarea name="description" class="form-control" rows="3" placeholder="وصف القطعة المطلوبة" required></textarea>
      </div>

      <div class="d-flex gap-3 justify-content-between">
        <button type="reset" class="btn btn-secondary">مسح</button>
        <button type="button" class="btn btn-success" onclick="sendToWhatsApp('971566672873')">إرسال</button>
      </div>
    </form>
  </div>
</div>

<script>
  const brands = ["تويوتا", "نيسان", "هونداي", "كيا", "فورد", "شيفروليه", "ميتسوبيشي", "إيسوزو", "جيلي", "أخرى"];
  const models = ["كورولا", "كامري", "لاندكروزر", "هايلوكس", "سوناتا", "توكسون", "باترول", "سبارك", "أخرى"];

  const years = Array.from({length: 2026 - 1960 + 1}, (_, i) => 1960 + i);

  const sections = ["car", "truck", "bike"];
  sections.forEach(section => {
    const container = document.getElementById(section);
    container.innerHTML = `
      <div class="mb-2">
        <label>براند المركبة:</label>
        <select name="${section}_brand" class="form-select">
          ${brands.map(b => `<option>${b}</option>`).join('')}
        </select>
      </div>
      <div class="mb-2">
        <label>موديل المركبة:</label>
        <select name="${section}_model" class="form-select">
          ${models.map(m => `<option>${m}</option>`).join('')}
        </select>
      </div>
      <div class="mb-2">
        <label>سنة الصنع:</label>
        <select name="${section}_year" class="form-select">
          ${years.map(y => `<option>${y}</option>`).join('')}
        </select>
      </div>
      <div class="mb-2">
        <label class="form-label">نوع المحرك:</label><br/>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="${section}_engine_type" value="احتراق" checked onchange="toggleFuel(this.value, '${section}')">
          <label class="form-check-label">احتراق داخلي</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="${section}_engine_type" value="كهربائي" onchange="toggleFuel(this.value, '${section}')">
          <label class="form-check-label">كهربائي</label>
        </div>
      </div>
      <div class="mb-2" id="${section}_fuelField">
        <label>نوع الوقود:</label>
        <select name="${section}_fuel" class="form-select">
          <option>بنزين</option><option>جازولين</option>
        </select>
      </div>
      <div class="mb-2">
        <input type="text" name="${section}_serial" class="form-control" placeholder="رقم الشاسيه (إن وجد)" />
      </div>
    `;
  });

  function switchTab(tabId) {
    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.form-section').forEach(sec => sec.classList.remove('active'));
    document.querySelector(`button[onclick="switchTab('${tabId}')"]`).classList.add('active');
    document.getElementById(tabId).classList.add('active');
  }

  function toggleFuel(value, tab) {
    const fuelField = document.getElementById(tab + "_fuelField");
    if (fuelField) {
      fuelField.style.display = (value === "احتراق") ? "block" : "none";
    }
  }

  function sendToWhatsApp(number) {
    const form = document.getElementById('orderForm');
    const name = form.name.value;
    const phone = form.phone.value;
    const description = form.description.value;
    let message = `*طلب جديد من موقع Parts Hunter*%0A👤 الاسم: ${name}%0A📞 الهاتف: ${phone}%0A📝 تفاصيل القطعة: ${description}`;

    const activeSection = ["car", "truck", "bike", "gen", "elec"].find(id => document.getElementById(id).classList.contains("active"));

    if (["car", "truck", "bike"].includes(activeSection)) {
      message += `%0A🚗 النوع: ${form[activeSection + "_brand"].value} - ${form[activeSection + "_model"].value}%0A📆 سنة الصنع: ${form[activeSection + "_year"].value}`;
      const engine = form[activeSection + "_engine_type"].value;
      message += `%0A🔧 نوع المحرك: ${engine}`;
      if (engine === "احتراق") {
        message += `%0A⛽ نوع الوقود: ${form[activeSection + "_fuel"].value}`;
      }
      message += `%0A🔢 الشاسيه: ${form[activeSection + "_serial"].value}`;
    }

    if (activeSection === "gen") {
      message += `%0A⚡ نوع المولد: ${form.gen_type.value}%0A⚙️ السعة: ${form.gen_capacity.value}%0A⛽ الوقود: ${form.gen_fuel.value}%0A🔢 السيريال: ${form.gen_serial.value}`;
    }

    if (activeSection === "elec") {
      message += `%0A🔌 نوع الجهاز: ${form.elec_type.value}%0A🏷️ المواصفات: ${form.elec_brand.value}`;
    }

    window.open(`https://wa.me/${number}?text=${message}`, "_blank");
  }
</script>

</body>
</html>
