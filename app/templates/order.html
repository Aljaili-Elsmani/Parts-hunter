<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>طلب قطع غيار - Parts Hunter</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
</head>
<body class="bg-light text-end">

  <div class="container mt-5">
    <div class="card p-4 shadow">
      <h2 class="text-center mb-4">نموذج طلب قطع الغيار</h2>
      <form id="orderForm">

        <div class="mb-3">
          <label class="form-label">الاسم:</label>
          <input type="text" name="name" class="form-control" required />
        </div>

        <div class="mb-3">
          <label class="form-label">رقم الهاتف أو واتساب:</label>
          <input type="text" name="phone" class="form-control" required />
        </div>

        <div class="mb-3">
          <label class="form-label">نوع الخدمة:</label>
          <select name="category" class="form-select" onchange="showExtraFields(this.value)" required>
            <option value="">-- اختر --</option>
            <option value="سيارة">قطع غيار سيارات</option>
            <option value="مولد">مولد كهرباء</option>
            <option value="كهربائيات">مستلزمات كهربائية</option>
            <option value="أخرى">أخرى</option>
          </select>
        </div>

        <!-- سيارات -->
        <div id="carFields" style="display:none">
          <div class="mb-2"><input type="text" name="car_brand" class="form-control" placeholder="براند السيارة" /></div>
          <div class="mb-2"><input type="text" name="car_model" class="form-control" placeholder="موديل السيارة" /></div>
          <div class="mb-2"><input type="text" name="car_fuel" class="form-control" placeholder="نوع الوقود" /></div>
          <div class="mb-2"><input type="text" name="car_serial" class="form-control" placeholder="رقم الشاسيه (إن وجد)" /></div>
        </div>

        <!-- مولد -->
        <div id="genFields" style="display:none">
          <div class="mb-2"><input type="text" name="gen_type" class="form-control" placeholder="نوع المولد" /></div>
          <div class="mb-2"><input type="text" name="gen_capacity" class="form-control" placeholder="السعة بالكيلو فولت" /></div>
          <div class="mb-2"><input type="text" name="gen_fuel" class="form-control" placeholder="نوع الوقود" /></div>
          <div class="mb-2"><input type="text" name="gen_serial" class="form-control" placeholder="السيريال نمبر (إن وجد)" /></div>
        </div>

        <!-- كهربائيات -->
        <div id="elecFields" style="display:none">
          <div class="mb-2"><input type="text" name="elec_type" class="form-control" placeholder="نوع القطعة الكهربائية" /></div>
          <div class="mb-2"><input type="text" name="elec_brand" class="form-control" placeholder="المواصفات أو البراند" /></div>
        </div>

        <!-- أخرى -->
        <div id="otherFields" style="display:none">
          <div class="mb-2"><input type="text" name="other_detail" class="form-control" placeholder="تفاصيل الطلب" /></div>
        </div>

        <div class="mb-3">
          <label class="form-label">نوع القطعة وتفاصيلها:</label>
          <textarea name="description" class="form-control" rows="3" required></textarea>
        </div>

        <div class="d-flex gap-3">
          <button type="button" class="btn btn-success" onclick="sendToWhatsApp('971566672873')">إرسال</button>
          <button type="button" class="btn btn-primary" onclick="sendToWhatsApp('249912654405')">إرسال</button>
          <button type="button" class="btn btn-warning" onclick="sendToWhatsApp('249917154054')">إرسال</button>
        </div>

      </form>
    </div>
  </div>

  <script>
    function showExtraFields(value) {
      document.getElementById("carFields").style.display = value === "سيارة" ? "block" : "none";
      document.getElementById("genFields").style.display = value === "مولد" ? "block" : "none";
      document.getElementById("elecFields").style.display = value === "كهربائيات" ? "block" : "none";
      document.getElementById("otherFields").style.display = value === "أخرى" ? "block" : "none";
    }

    function sendToWhatsApp(number) {
      const name = document.querySelector('input[name="name"]').value;
      const phone = document.querySelector('input[name="phone"]').value;
      const category = document.querySelector('select[name="category"]').value;
      const description = document.querySelector('textarea[name="description"]').value;

      let extra = "";

      if (category === "سيارة") {
        extra = `
🚗 براند السيارة: ${document.querySelector('input[name="car_brand"]').value}
📅 الموديل: ${document.querySelector('input[name="car_model"]').value}
⛽ نوع الوقود: ${document.querySelector('input[name="car_fuel"]').value}
🔢 رقم الشاسيه: ${document.querySelector('input[name="car_serial"]').value}`;
      } else if (category === "مولد") {
        extra = `
⚡ نوع المولد: ${document.querySelector('input[name="gen_type"]').value}
⚙️ السعة: ${document.querySelector('input[name="gen_capacity"]').value}
⛽ الوقود: ${document.querySelector('input[name="gen_fuel"]').value}
🔢 السيريال نمبر: ${document.querySelector('input[name="gen_serial"]').value}`;
      } else if (category === "كهربائيات") {
        extra = `
🔌 نوع القطعة: ${document.querySelector('input[name="elec_type"]').value}
🏷️ المواصفات: ${document.querySelector('input[name="elec_brand"]').value}`;
      } else if (category === "أخرى") {
        extra = `
❓ تفاصيل الجهاز: ${document.querySelector('input[name="other_detail"]').value}`;
      }

      const message = `*طلب جديد من موقع Parts Hunter*
👤 الاسم: ${name}
📞 الهاتف/واتساب: ${phone}
📦 نوع الطلب: ${category}
📝 نوع القطعة وتفاصيلها: ${description}
${extra}`;

      const encoded = encodeURIComponent(message);
      window.open(`https://wa.me/${number}?text=${encoded}`, "_blank");
    }
  </script>

</body>
</html>
